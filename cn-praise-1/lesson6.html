<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>6ê³¼. ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš” Â· åªæœ‰ä¸€ä½çœŸç¥</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 24px;
      background: #f7f9fc;
      font-size: 24px;
      color: #111;
    }
    h1 {
      font-size: 40px;
      margin-bottom: 16px;
      color: #000;
    }

    /* ìƒë‹¨ í° íƒ­ (1~6) */
    .step-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
    }
    .step-tab {
      width: 48px;
      height: 48px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #fed7aa;
      font-size: 22px;
      color: #7c2d12;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .step-tab.active {
      background: #f97316;
      color: #fff;
      box-shadow: 0 0 0 2px #ffedd5 inset;
    }

    .card {
      background: #ffffff;
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    }
    .section-label {
      font-size: 20px;
      color: #374151;
      margin-bottom: 8px;
    }
    h2 {
      font-size: 30px;
      margin-bottom: 10px;
      color: #000;
    }

    .zh {
      font-size: 40px;
      font-weight: bold;
      margin-bottom: 8px;
      color: #b91c1c;
    }
    .pinyin {
      font-size: 26px;
      color: #444;
      margin-bottom: 4px;
    }
    .ko {
      font-size: 26px;
      color: #222;
      margin-bottom: 10px;
      white-space: pre-line;
    }
    .hint {
      font-size: 20px;
      color: #555;
      margin-top: 6px;
    }

    button {
      padding: 10px 20px;
      font-size: 20px;
      border-radius: 14px;
      border: none;
      cursor: pointer;
      margin-right: 8px;
      margin-top: 6px;
      background: #2563eb;
      color: white;
    }
    button.secondary { background: #10b981; }
    button.ghost { background: #e5e7eb; color: #1f2937; }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
      margin-bottom: 4px;
    }

    /* ë§ì”€ ì¹´ë“œ */
    .verse-card {
      background: linear-gradient(135deg, #fef3c7, #e0f2fe);
      border-left: 6px solid #f97316;
    }
    .verse-ref {
      font-size: 24px;
      color: #555;
      margin-bottom: 4px;
    }
    .verse-text {
      font-size: 26px;
      white-space: pre-line;
      color: #111;
    }

    /* ì†Œíƒ­ (íŒŒë€ ë²„íŠ¼) */
    .sub-mode-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 0 0 16px;
    }
    .sub-mode-btn {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      font-size: 20px;
      cursor: pointer;
      background: #e5e7eb;
      color: #111827;
    }
    .sub-mode-btn.active {
      background: #2563eb;
      color: #fff;
    }

    /* í”Œë˜ì‹œ ì¹´ë“œ */
    .flash-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      margin-bottom: 12px;
    }
    .flashcard {
      min-height: 220px;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffedd5, #fed7aa);
      border-radius: 20px;
      cursor: pointer;
      text-align: center;
      padding: 24px;
      position: relative;
      transition: background 0.25s ease;
    }
    .flashcard.back {
      background: linear-gradient(135deg, #ecfdf5, #a5f3fc);
    }
    .flash-face {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
    }
    .flash-counter {
      position: absolute;
      top: 10px;
      left: 14px;
      font-size: 18px;
      color: #374151;
      background: rgba(255,255,255,0.8);
      padding: 2px 10px;
      border-radius: 999px;
    }
    .flash-front {
      font-size: 60px;
      font-weight: bold;
      color: #b91c1c;
    }
    .flash-back-main {
      font-size: 34px;
      font-weight: bold;
      color: #000;
      margin-bottom: 6px;
    }
    .flash-back-sub {
      font-size: 24px;
      color: #333;
    }
    .idx-text {
      font-size: 20px;
      margin-top: 6px;
      color: #444;
      text-align: center;
    }
    .arrow-btn {
      width: 48px;
      height: 48px;
      border-radius: 999px;
      border: none;
      background: #e5e7eb;
      font-size: 26px;
      color: #374151;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    /* í•˜ì´ë¼ì´íŠ¸ A/B */
    .inline-a {
      background: #fef08a;
      padding: 0 4px;
      border-radius: 6px;
      box-shadow: 0 0 0 2px #fef08a inset;
    }
    .inline-b {
      background: #bbf7d0;
      padding: 0 4px;
      border-radius: 6px;
      box-shadow: 0 0 0 2px #86efac inset;
    }

    /* ë¯¸ë‹ˆ ì¹´ë“œ (ì„ íƒ ì¹´ë“œ) */
    .mini-card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }
    .mini-card {
      border-radius: 14px;
      padding: 10px 14px;
      min-width: 150px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(15,23,42,0.12);
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
    }
    .mini-card-a {
      background: #fef08a;
    }
    .mini-card-b {
      background: #dcfce7;
    }
    .mini-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(15,23,42,0.16);
      filter: brightness(1.03);
    }
    .mini-card-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 4px;
      color: #111827;
    }
    .mini-card-zh {
      font-size: 26px;
      color: #b91c1c;
      margin-bottom: 2px;
    }
    .mini-card-sub {
      font-size: 18px;
      color: #4b5563;
    }

    .template-box {
      background:#e0f2fe;
      padding:12px 16px;
      border-radius:12px;
      margin-bottom:8px;
    }

    /* ë‹¨ì–´ ë§¤ì¹­ ê²Œì„ */
    .match-layout {
      display: flex;
      gap: 16px;
      margin-top: 16px;
      flex-wrap: wrap;
    }
    .match-col {
      flex: 1;
      min-width: 180px;
    }
    .match-btn {
      display: block;
      width: 100%;
      margin-bottom: 8px;
      padding: 8px 14px;
      font-size: 22px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      text-align: left;
      background: #e5e7eb;
      color: #111827;
      transition: background 0.12s ease, transform 0.12s ease;
    }
    .match-btn:hover {
      background: #d1d5db;
      transform: translateY(-1px);
    }
    .match-btn.selected {
      background: #fee2e2;
    }
    .match-btn.correct {
      background: #bbf7d0;
      cursor: default;
    }
    .match-btn.wrong {
      background: #fecaca;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
      font-size: 20px;
    }
    th, td {
      border-bottom: 1px solid #e5e7eb;
      padding: 6px 4px;
      text-align: left;
    }
    th {
      background: #f9fafb;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <h1>6ê³¼. ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš” Â· åªæœ‰ä¸€ä½çœŸç¥</h1>

  <div id="step-tabs" class="step-tabs"></div>
  <div id="content"></div>

  <script>
    /* ===== 0. ê³µí†µ ìœ í‹¸ & ì¤‘êµ­ì–´ TTS ===== */

    function clear(el) {
      while (el.firstChild) el.removeChild(el.firstChild);
    }

    let zhVoices = [];
    let selectedZhVoice = null;

    function loadZhVoices() {
      if (!("speechSynthesis" in window)) return;
      const voices = window.speechSynthesis.getVoices();
      zhVoices = voices.filter(v =>
        (v.lang && v.lang.toLowerCase().startsWith("zh")) ||
        (v.lang && v.lang.toLowerCase().includes("hans")) ||
        (v.name && v.name.toLowerCase().includes("chinese"))
      );
      selectedZhVoice =
        zhVoices.find(v => v.lang && v.lang.toLowerCase() === "zh-cn") ||
        zhVoices[0] ||
        null;
    }

    if ("speechSynthesis" in window) {
      loadZhVoices();
      window.speechSynthesis.onvoiceschanged = loadZhVoices;
    }

    function ensureChineseVoice() {
      if (!("speechSynthesis" in window)) {
        alert("ë¸Œë¼ìš°ì €ê°€ ìŒì„± ì¬ìƒì„ ì§€ì›í•˜ì§€ ì•Šì•„ìš”.");
        return false;
      }
      if (!selectedZhVoice) {
        alert(
          "ì¤‘êµ­ì–´ ìŒì„±ì„ ì°¾ì§€ ëª»í–ˆì–´ìš”.\n" +
          "ê¸°ê¸° ì„¤ì •ì—ì„œ 'ì¤‘êµ­ì–´(Chinese, æ™®é€šè¯)' ìŒì„±ì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”."
        );
        return false;
      }
      return true;
    }

    function speakChineseOnce(text) {
      if (!ensureChineseVoice()) return;
      window.speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.lang  = "zh-CN";
      u.voice = selectedZhVoice;
      u.rate  = 0.8;
      u.pitch = 1.0;
      window.speechSynthesis.speak(u);
    }

    function speakChineseFive(text) {
      if (!ensureChineseVoice()) return;
      window.speechSynthesis.cancel();
      let count = 0;
      function play() {
        const u = new SpeechSynthesisUtterance(text);
        u.lang  = "zh-CN";
        u.voice = selectedZhVoice;
        u.rate  = 0.8;
        u.pitch = 1.0;
        u.onend = () => {
          count++;
          if (count < 5) setTimeout(play, 250);
        };
        window.speechSynthesis.speak(u);
      }
      play();
    }

    /* ===== 1. ë°ì´í„° ì •ë¦¬ ===== */

    const verses6 = [
      {
        ref: "ìš”í•œë³µìŒ 14:6",
        textKo: "ì˜ˆìˆ˜ê»˜ì„œ ì´ë¥´ì‹œë˜ ë‚´ê°€ ê³§ ê¸¸ì´ìš” ì§„ë¦¬ìš” ìƒëª…ì´ë‹ˆ\në‚˜ë¡œ ë§ë¯¸ì•”ì§€ ì•Šê³ ëŠ” ì•„ë²„ì§€ê»˜ë¡œ ì˜¬ ìê°€ ì—†ëŠë‹ˆë¼"
      },
      {
        ref: "ì‹ ëª…ê¸° 6:4",
        textKo: "ì´ìŠ¤ë¼ì—˜ì•„ ë“¤ìœ¼ë¼ ìš°ë¦¬ í•˜ë‚˜ë‹˜ ì—¬í˜¸ì™€ëŠ” ì˜¤ì§ ìœ ì¼í•œ ì—¬í˜¸ì™€ì‹œë‹ˆ"
      },
      {
        ref: "ì´ì‚¬ì•¼ 45:5",
        textKo: "ë‚˜ëŠ” ì—¬í˜¸ì™€ë¼ ë‚˜ ì™¸ì— ë‹¤ë¥¸ ì´ê°€ ì—†ë‚˜ë‹ˆ ë‚˜ ë°–ì— ì‹ ì´ ì—†ëŠë‹ˆë¼."
      }
    ];

    const vocabLine1_6 = [
      { hanzi: "åªæœ‰",   pinyin: "zhÇyÇ’u",    meaning: "ì˜¤ì§ ~ë§Œ ìˆë‹¤" },
      { hanzi: "ä¸€ä½",   pinyin: "yÃ­ wÃ¨i",    meaning: "í•œ ë¶„" },
      { hanzi: "çœŸç¥",   pinyin: "zhÄ“nshÃ©n",  meaning: "ì°¸ í•˜ë‚˜ë‹˜" },
      { hanzi: "å°±æ˜¯",   pinyin: "jiÃ¹shÃ¬",    meaning: "ë°”ë¡œ â€¦ì´ë‹¤" },
      { hanzi: "é€ åŒ–ä¸»", pinyin: "zÃ ohuÃ zhÇ”", meaning: "ì°½ì¡°ì£¼" }
    ];

    const vocabLine2_6 = [
      { hanzi: "ç»™",     pinyin: "gÄ›i",       meaning: "â€¦ì—ê²Œ ì£¼ë‹¤" },
      { hanzi: "æˆ‘",     pinyin: "wÇ’",        meaning: "ë‚˜, ë‚˜ë¥¼" },
      { hanzi: "åƒ",     pinyin: "chÄ«",       meaning: "ë¨¹ë‹¤" },
      { hanzi: "ç©¿",     pinyin: "chuÄn",     meaning: "ì…ë‹¤" },
      { hanzi: "å¸¸å¸¸",   pinyin: "chÃ¡ngchÃ¡ng",meaning: "ìì£¼, í•­ìƒ" },
      { hanzi: "ä¿æŠ¤",   pinyin: "bÇohÃ¹",     meaning: "ë³´í˜¸í•˜ë‹¤" }
    ];

    const godTitles6 = [
      {
        hanzi: "é€ åŒ–ä¸»",
        pinyin: "zÃ ohuÃ zhÇ”",
        meaning: "ì°½ì¡°ì£¼ (ì„¸ìƒì„ ì§€ìœ¼ì‹  ì£¼ë‹˜)",
        koName: "ì°½ì¡°ì£¼"
      },
      {
        hanzi: "å¤©çˆ¶",
        pinyin: "tiÄnfÃ¹",
        meaning: "í•˜ëŠ˜ ì•„ë²„ì§€",
        koName: "í•˜ëŠ˜ ì•„ë²„ì§€ í•˜ë‚˜ë‹˜"
      },
      {
        hanzi: "ä¸Šå¸",
        pinyin: "shÃ ngdÃ¬",
        meaning: "í•˜ë‚˜ë‹˜ (ë†’ì€ ë¶„, í•˜ëŠ˜ì˜ ì™•)",
        koName: "í•˜ë‚˜ë‹˜"
      },
      {
        hanzi: "è€¶ç¨£",
        pinyin: "yÄ“sÅ«",
        meaning: "ì˜ˆìˆ˜ë‹˜",
        koName: "ì˜ˆìˆ˜ë‹˜"
      }
    ];

    const identityWords6 = [
      { hanzi: "å­©å­", pinyin: "hÃ¡izi",  meaning: "ìë…€", ko: "ìë…€" },
      { hanzi: "å„¿å­", pinyin: "Ã©rzi",  meaning: "ì•„ë“¤", ko: "ì•„ë“¤" },
      { hanzi: "å¥³å„¿", pinyin: "nÇšâ€™Ã©r", meaning: "ë”¸",   ko: "ë”¸" }
    ];

    const giftFromGod6 = [
      { hanzi: "è€¶ç¨£",  pinyin: "yÄ“sÅ«",    meaning: "ì˜ˆìˆ˜ë‹˜", ko: "ì˜ˆìˆ˜ë‹˜" },
      { hanzi: "å¿«ä¹",  pinyin: "kuÃ ilÃ¨",  meaning: "ê¸°ì¨, ì¦ê±°ì›€", ko: "ê¸°ì¨" },
      { hanzi: "çˆ±",    pinyin: "Ã i",      meaning: "ì‚¬ë‘", ko: "ì‚¬ë‘" },
      { hanzi: "ä¿¡å¿ƒ",  pinyin: "xÃ¬nxÄ«n",  meaning: "ë¯¿ìŒ(ìì‹ ê°)", ko: "ë¯¿ìŒ" }
    ];

    const myGiftToGod6 = [
      { hanzi: "æˆ‘çš„çˆ±",  pinyin: "wÇ’ de Ã i",  meaning: "ë‚˜ì˜ ì‚¬ë‘" },
      { hanzi: "æˆ‘çš„å¿ƒ",  pinyin: "wÇ’ de xÄ«n", meaning: "ë‚˜ì˜ ë§ˆìŒ" },
      { hanzi: "æ„Ÿè°¢",    pinyin: "gÇnxiÃ¨",    meaning: "ê°ì‚¬" }
    ];

    const myGiftToOthers6 = [
      { hanzi: "çˆ±",   pinyin: "Ã i",      meaning: "ì‚¬ë‘" },
      { hanzi: "å¸®åŠ©", pinyin: "bÄngzhÃ¹", meaning: "ë„ì›€" },
      { hanzi: "åƒ",   pinyin: "chÄ«",     meaning: "ë¨¹ì„ ê²ƒ" },
      { hanzi: "ç©¿",   pinyin: "chuÄn",   meaning: "ì…ì„ ê²ƒ" }
    ];

    /* ===== 2. ê³µí†µ: í”Œë˜ì‹œ ì¹´ë“œ ë Œë” ===== */

    function renderFlashCardBlock(parentEl, words, idPrefix) {
      const block = document.createElement("div");
      block.className = "card";
      block.innerHTML = `
        <div class="section-label">ë‹¨ì–´ í”Œë˜ì‹œ ì¹´ë“œ</div>
        <div class="ko">ì¹´ë“œë¥¼ ëˆŒëŸ¬ ì•/ë’·ë©´ì„ ë°”ê¾¸ê³ , í•œìë¥¼ ì†Œë¦¬ ë‚´ì–´ ë”°ë¼ ì½ì–´ ë³´ì•„ìš”.</div>
        <div class="flash-wrapper">
          <button class="arrow-btn" id="${idPrefix}-prev">â—€</button>
          <div class="flashcard" id="${idPrefix}-card">
            <div class="flash-counter" id="${idPrefix}-counter"></div>
            <div class="flash-face" id="${idPrefix}-face"></div>
          </div>
          <button class="arrow-btn" id="${idPrefix}-next">â–¶</button>
        </div>
        <div class="idx-text" id="${idPrefix}-idx"></div>
        <div class="btn-row">
          <button id="${idPrefix}-speak">ë‹¤ì‹œ ë“£ê¸° â–¶</button>
        </div>
      `;
      parentEl.appendChild(block);

      let idx = 0;
      let front = true;

      function draw() {
        const v = words[idx];
        const face = document.getElementById(`${idPrefix}-face`);
        const cnt = document.getElementById(`${idPrefix}-counter`);
        const idxEl = document.getElementById(`${idPrefix}-idx`);
        const cardEl = document.getElementById(`${idPrefix}-card`);

        cnt.textContent = `${idx + 1} / ${words.length}`;
        idxEl.textContent = `${idx + 1} / ${words.length}`;

        if (front) {
          cardEl.classList.remove("back");
          face.innerHTML = `<div class="flash-front">${v.hanzi}</div>`;
          speakChineseOnce(v.hanzi);
        } else {
          cardEl.classList.add("back");
          face.innerHTML = `
            <div class="flash-back-main">${v.meaning}</div>
            <div class="flash-back-sub">${v.hanzi} Â· ${v.pinyin}</div>
          `;
        }
      }

      document.getElementById(`${idPrefix}-card`).onclick = () => {
        front = !front;
        draw();
      };
      document.getElementById(`${idPrefix}-prev`).onclick = () => {
        idx = (idx - 1 + words.length) % words.length;
        front = true;
        draw();
      };
      document.getElementById(`${idPrefix}-next`).onclick = () => {
        idx = (idx + 1) % words.length;
        front = true;
        draw();
      };
      document.getElementById(`${idPrefix}-speak`).onclick = () => {
        speakChineseOnce(words[idx].hanzi);
      };

      draw();
    }

    /* ===== 3. íƒ­1: ë§ì”€ê³¼ ì°¬ì–‘ ===== */

    function renderTab1(container) {
      const c = document.createElement("div");
      c.className = "card";
      c.innerHTML = `
        <div class="section-label">6-1 ë§ì”€ê³¼ ì°¬ì–‘</div>
        <div class="zh">åªæœ‰ä¸€ä½çœŸç¥ã€‚</div>
        <div class="pinyin">zhÇ yÇ’u yÃ­ wÃ¨i zhÄ“n shÃ©n</div>
        <div class="ko">ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš”!</div>
        <div class="btn-row">
          <button onclick="speakChineseOnce('åªæœ‰ä¸€ä½çœŸç¥')">í•œë²ˆ ë“£ê¸° â–¶</button>
          <button class="secondary" onclick="speakChineseFive('åªæœ‰ä¸€ä½çœŸç¥')">ë‹¤ì„¯ ë²ˆ ë“£ê¸° â–¶â–¶</button>
        </div>
        <div class="hint">ì•„ì´ì™€ í•¨ê»˜ â€œì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš”!â€ë¥¼ ì¤‘êµ­ì–´ì™€ í•œêµ­ì–´ë¡œ í¬ê²Œ ê³ ë°±í•´ ë³´ì„¸ìš”.</div>
      `;
      container.appendChild(c);

      const verseIntro = document.createElement("div");
      verseIntro.className = "card verse-card";
      verseIntro.innerHTML = `
        <div class="verse-ref">ğŸ“– ì˜¤ì§ í•œ ë¶„ì´ì‹  í•˜ë‚˜ë‹˜</div>
        <div class="verse-text">
ì˜ˆìˆ˜ë‹˜ì€ ê¸¸ì´ìš” ì§„ë¦¬ìš” ìƒëª…ì´ì—ìš”.
ìš°ë¦¬ê°€ ë¯¿ëŠ” í•˜ë‚˜ë‹˜ì€ ì˜¤ì§ í•œ ë¶„, ì°¸ í•˜ë‚˜ë‹˜ì´ì„¸ìš”.
        </div>
      `;
      container.appendChild(verseIntro);

      verses6.forEach(v => {
        const card = document.createElement("div");
        card.className = "card verse-card";
        card.innerHTML = `
          <div class="verse-ref">ğŸ“– ${v.ref}</div>
          <div class="verse-text">${v.textKo}</div>
        `;
        container.appendChild(card);
      });

      const prayer = document.createElement("div");
      prayer.className = "card";
      prayer.innerHTML = `
        <div class="section-label">[ í•˜ë‚˜ë‹˜ ì„±í’ˆ ì°¾ê¸° & í•œì¤„ ê¸°ë„ ]</div>
        <div class="ko">
í•˜ë‚˜ë‹˜ì€ ì–´ë–¤ ë¶„ì´ì‹ ì§€ í•œ ë‹¨ì–´ë¡œ ì°¾ì•„ë³´ê³ ,
â€œí•˜ë‚˜ë‹˜, ì €ëŠ” ì˜¤ëŠ˜ â€˜ã€‡ã€‡ì´ì‹  í•˜ë‚˜ë‹˜â€™ì„ ì°¬ì–‘í•©ë‹ˆë‹¤.â€ë¼ê³  í•œ ì¤„ ê¸°ë„í•´ ë³´ì•„ìš”.
        </div>
      `;
      container.appendChild(prayer);
    }

    /* ===== 4. íƒ­2: ì°¬ì–‘ ê°€ì‚¬ ë“£ê¸° ===== */

    function renderTab2(container) {
      const c = document.createElement("div");
      c.className = "card";
      c.innerHTML = `
        <div class="section-label">6-2 ì°¬ì–‘ Â· åªæœ‰ä¸€ä½çœŸç¥</div>

        <div style="margin-bottom:18px;">
          <div class="zh">åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»ã€‚</div>
          <div class="pinyin">zhÇ yÇ’u yÃ­ wÃ¨i zhÄ“n shÃ©n, jiÃ¹ shÃ¬ zÃ ohuÃ zhÇ”</div>
          <div class="ko">ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš”! ë°”ë¡œ ì°½ì¡°ì£¼ì˜ˆìš”.</div>
          <div class="btn-row">
            <button onclick="speakChineseOnce('åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»')">í•œë²ˆ ë“£ê¸° â–¶</button>
            <button class="secondary" onclick="speakChineseFive('åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»')">ë‹¤ì„¯ ë²ˆ ë“£ê¸° â–¶â–¶</button>
          </div>
        </div>

        <div>
          <div class="zh">ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘ã€‚</div>
          <div class="pinyin">gÄ›i wÇ’ chÄ«, gÄ›i wÇ’ chuÄn, chÃ¡ngchÃ¡ng bÇohÃ¹ wÇ’</div>
          <div class="ko">
ë‚˜ì—ê²Œ ë¨¹ì„ ê²ƒì„ ì£¼ì‹œê³ , ì…ì„ ê²ƒì„ ì£¼ì„¸ìš”,
í•­ìƒ ë‚˜ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.
          </div>
          <div class="btn-row">
            <button onclick="speakChineseOnce('ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘')">í•œë²ˆ ë“£ê¸° â–¶</button>
            <button class="secondary" onclick="speakChineseFive('ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘')">ë‹¤ì„¯ ë²ˆ ë“£ê¸° â–¶â–¶</button>
          </div>
        </div>

        <div class="hint">
ì°¬ì–‘ ì „ì²´ë¥¼ 3~5ë²ˆ ë°˜ë³µí•´ì„œ ë“¤ìœ¼ë©°,
â€œì–´ë–¤ ë¶„ì´ ë‚˜ë¥¼ ë¨¹ì´ì‹œê³  ì…íˆì‹œê³  ë³´í˜¸í•˜ì‹¤ê¹Œ?â€ë¥¼ í•¨ê»˜ ë‚˜ëˆ  ë³´ì„¸ìš”.
        </div>
      `;
      container.appendChild(c);
    }

    /* ===== 5. íƒ­3: ì°¬ì–‘ ë‹¨ì–´ (1,2) + í”Œë˜ì‹œ ì¹´ë“œ ===== */

    function renderTab3(container) {
      const wrapper = document.createElement("div");
      wrapper.className = "card";
      wrapper.innerHTML = `
        <div class="section-label">6-3 ì°¬ì–‘ ë‹¨ì–´ ë°°ìš°ê¸°</div>
        <div class="sub-mode-row">
          <button class="sub-mode-btn active" id="t3-line1">ì°¬ì–‘1 ë‹¨ì–´</button>
          <button class="sub-mode-btn" id="t3-line2">ì°¬ì–‘2 ë‹¨ì–´</button>
        </div>
        <div id="t3-body"></div>
      `;
      container.appendChild(wrapper);

      const body = document.getElementById("t3-body");
      const b1 = document.getElementById("t3-line1");
      const b2 = document.getElementById("t3-line2");

      function setActive(btn) {
        [b1, b2].forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
      }

      function renderLine1() {
        clear(body);
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="section-label">ì°¬ì–‘ 1ì¤„ Â· åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»ã€‚</div>
          <div class="zh">åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»ã€‚</div>
          <div class="pinyin">zhÇ yÇ’u yÃ­ wÃ¨i zhÄ“n shÃ©n, jiÃ¹ shÃ¬ zÃ ohuÃ zhÇ”</div>
          <div class="ko">ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš”! ë°”ë¡œ ì°½ì¡°ì£¼ì˜ˆìš”.</div>
        `;
        body.appendChild(card);

        renderFlashCardBlock(body, vocabLine1_6, "t3-line1-flash");

        const tableCard = document.createElement("div");
        tableCard.className = "card";
        tableCard.innerHTML = `
          <div class="section-label">ë‹¨ì–´ ì •ë¦¬</div>
          <table>
            <thead>
              <tr>
                <th>ì¤‘êµ­ì–´</th>
                <th>ë³‘ìŒ</th>
                <th>ëœ»</th>
              </tr>
            </thead>
            <tbody id="t3-line1-table"></tbody>
          </table>
        `;
        body.appendChild(tableCard);

        const tbody = document.getElementById("t3-line1-table");
        vocabLine1_6.forEach(v => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${v.hanzi}</td>
            <td>${v.pinyin}</td>
            <td>${v.meaning}</td>
          `;
          tbody.appendChild(tr);
        });
      }

      function renderLine2() {
        clear(body);
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="section-label">ì°¬ì–‘ 2ì¤„ Â· ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘ã€‚</div>
          <div class="zh">ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘ã€‚</div>
          <div class="pinyin">gÄ›i wÇ’ chÄ«, gÄ›i wÇ’ chuÄn, chÃ¡ngchÃ¡ng bÇohÃ¹ wÇ’</div>
          <div class="ko">
ë‚˜ì—ê²Œ ë¨¹ì„ ê²ƒì„ ì£¼ì‹œê³ , ì…ì„ ê²ƒì„ ì£¼ì„¸ìš”,
í•­ìƒ ë‚˜ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.
          </div>
        `;
        body.appendChild(card);

        renderFlashCardBlock(body, vocabLine2_6, "t3-line2-flash");

        const tableCard = document.createElement("div");
        tableCard.className = "card";
        tableCard.innerHTML = `
          <div class="section-label">ë‹¨ì–´ ì •ë¦¬</div>
          <table>
            <thead>
              <tr>
                <th>ì¤‘êµ­ì–´</th>
                <th>ë³‘ìŒ</th>
                <th>ëœ»</th>
              </tr>
            </thead>
            <tbody id="t3-line2-table"></tbody>
          </table>
        `;
        body.appendChild(tableCard);

        const tbody = document.getElementById("t3-line2-table");
        vocabLine2_6.forEach(v => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${v.hanzi}</td>
            <td>${v.pinyin}</td>
            <td>${v.meaning}</td>
          `;
          tbody.appendChild(tr);
        });
      }

      renderLine1();

      b1.onclick = () => { setActive(b1); renderLine1(); };
      b2.onclick = () => { setActive(b2); renderLine2(); };
    }

    /* ===== 6. íƒ­4: í•˜ë‚˜ë‹˜ì€ ëˆ„êµ¬? & ë³´í˜¸í•˜ì‹œëŠ” í•˜ë‚˜ë‹˜ ===== */

    function renderTab4(container) {
      const wrap = document.createElement("div");
      wrap.className = "card";
      wrap.innerHTML = `
        <div class="section-label">6-4 í•˜ë‚˜ë‹˜ì€ ëˆ„êµ¬ì‹ ê°€ìš”?</div>
        <div class="sub-mode-row">
          <button class="sub-mode-btn active" id="t4-whoGod">í•˜ë‚˜ë‹˜ì€ ëˆ„êµ¬?</button>
          <button class="sub-mode-btn" id="t4-protect">ë³´í˜¸í•˜ì‹œëŠ” í•˜ë‚˜ë‹˜</button>
        </div>
        <div id="t4-body"></div>
      `;
      container.appendChild(wrap);

      const body = document.getElementById("t4-body");
      const bWho = document.getElementById("t4-whoGod");
      const bPro = document.getElementById("t4-protect");

      function setActive(btn) {
        [bWho, bPro].forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
      }

      function renderWhoGod() {
        clear(body);
        const box = document.createElement("div");
        box.className = "card";
        box.innerHTML = `
          <div class="template-box">
            <div class="zh">
              åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯
              <span class="inline-b" id="t4-god-zh">é€ åŒ–ä¸»</span>ã€‚
            </div>
            <div class="pinyin" id="t4-god-py">
              zhÇ yÇ’u yÃ­ wÃ¨i zhÄ“n shÃ©n, jiÃ¹ shÃ¬ zÃ ohuÃ zhÇ”
            </div>
            <div class="ko" id="t4-god-ko">
              ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš”! ë°”ë¡œ <span class="inline-b">ì°½ì¡°ì£¼</span>ì˜ˆìš”.
            </div>
          </div>
          <div class="section-label">í•˜ë‚˜ë‹˜ì„ ë‚˜íƒ€ë‚´ëŠ” í‘œí˜„ì„ ê³¨ë¼ ë³´ì•„ìš”.</div>
          <div class="mini-card-container" id="t4-god-wrap"></div>
          <div class="hint">
            â€œì˜¤ëŠ˜ì€ ë‚˜ëŠ” ì–´ë–¤ í•˜ë‚˜ë‹˜ì„ ë” ê¹Šì´ ì•Œê³  ì‹¶ì„ê¹Œ?â€ë¥¼ ì•„ì´ì™€ ê°™ì´ ë‚˜ëˆ„ì–´ ë³´ì„¸ìš”.
          </div>
        `;
        body.appendChild(box);

        const zhEl = document.getElementById("t4-god-zh");
        const pyEl = document.getElementById("t4-god-py");
        const koEl = document.getElementById("t4-god-ko");
        const wrapCards = document.getElementById("t4-god-wrap");

        godTitles6.forEach(v => {
          const card = document.createElement("div");
          card.className = "mini-card mini-card-b";
          card.innerHTML = `
            <div class="mini-card-title">${v.koName}</div>
            <div class="mini-card-zh">${v.hanzi}</div>
            <div class="mini-card-sub">${v.pinyin}</div>
          `;
          card.onclick = () => {
            wrapCards.querySelectorAll(".mini-card").forEach(el => {
              el.style.outline = "none";
            });
            card.style.outline = "3px solid #22c55e";

            zhEl.textContent = v.hanzi;
            pyEl.textContent =
              `zhÇ yÇ’u yÃ­ wÃ¨i zhÄ“n shÃ©n, jiÃ¹ shÃ¬ ${v.pinyin}`;
            koEl.innerHTML =
              `ì§„ì§œ ì‹ ì€ í•œ ë¶„ì´ì„¸ìš”! ë°”ë¡œ <span class="inline-b">${v.koName}</span>ì˜ˆìš”.`;

            speakChineseOnce(`åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯${v.hanzi}`);
          };
          wrapCards.appendChild(card);
        });
      }

      function renderProtect() {
        clear(body);
        const box = document.createElement("div");
        box.className = "card";
        box.innerHTML = `
          <div class="template-box">
            <div class="zh">
              <span class="inline-b" id="t4-pro-zh">é€ åŒ–ä¸»</span>ä¿æŠ¤æˆ‘ã€‚
            </div>
            <div class="pinyin" id="t4-pro-py">
              zÃ ohuÃ zhÇ” bÇohÃ¹ wÇ’
            </div>
            <div class="ko" id="t4-pro-ko">
              <span class="inline-b">ì°½ì¡°ì£¼ í•˜ë‚˜ë‹˜</span>ì´ ë‚˜ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.
            </div>
          </div>
          <div class="section-label">ëˆ„ê°€ ë‚˜ë¥¼ ë³´í˜¸í•˜ì‹¤ê¹Œìš”?</div>
          <div class="mini-card-container" id="t4-pro-wrap"></div>
          <div class="btn-row">
            <button onclick="speakChineseOnce('é€ åŒ–ä¸»ä¿æŠ¤æˆ‘')">ì˜ˆë¬¸ ë“£ê¸° â–¶</button>
          </div>
          <div class="hint">
            â€œ(ã€‡ã€‡)ä¿æŠ¤æˆ‘.â€ ë¬¸ì¥ì„ ì—¬ëŸ¬ ë²ˆ ë°”ê¿” ë³´ë©°,
            ë‚´ê°€ ëˆ„êµ¬ì˜ ë³´í˜¸ ì†ì— ìˆëŠ”ì§€ ë§ˆìŒì— ìƒˆê²¨ ë³´ì•„ìš”.
          </div>
        `;
        body.appendChild(box);

        const zhEl = document.getElementById("t4-pro-zh");
        const pyEl = document.getElementById("t4-pro-py");
        const koEl = document.getElementById("t4-pro-ko");
        const wrapCards = document.getElementById("t4-pro-wrap");

        godTitles6.forEach(v => {
          const card = document.createElement("div");
          card.className = "mini-card mini-card-b";
          card.innerHTML = `
            <div class="mini-card-title">${v.koName}</div>
            <div class="mini-card-zh">${v.hanzi}</div>
            <div class="mini-card-sub">${v.pinyin}</div>
          `;
          card.onclick = () => {
            wrapCards.querySelectorAll(".mini-card").forEach(el => {
              el.style.outline = "none";
            });
            card.style.outline = "3px solid #22c55e";

            zhEl.textContent = v.hanzi;
            pyEl.textContent = `${v.pinyin} bÇohÃ¹ wÇ’`;
            koEl.innerHTML =
              `<span class="inline-b">${v.koName}</span>ì´/ê°€ ë‚˜ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.`;

            speakChineseOnce(`${v.hanzi}ä¿æŠ¤æˆ‘`);
          };
          wrapCards.appendChild(card);
        });
      }

      renderWhoGod();

      bWho.onclick = () => { setActive(bWho); renderWhoGod(); };
      bPro.onclick  = () => { setActive(bPro);  renderProtect();  };
    }

    /* ===== 7. íƒ­5: ë‚˜ëŠ” ëˆ„êµ¬? / ì£¼ê³  ë°›ê¸° ===== */

    function renderTab5(container) {
      const wrap = document.createElement("div");
      wrap.className = "card";
      wrap.innerHTML = `
        <div class="section-label">6-5 ë‚˜ëŠ” ëˆ„êµ¬? Â· í•˜ë‚˜ë‹˜ê³¼ ì£¼ê³ ë°›ê¸°</div>
        <div class="sub-mode-row">
          <button class="sub-mode-btn active" id="t5-whoAmI">ë‚˜ëŠ” ëˆ„êµ¬?</button>
          <button class="sub-mode-btn" id="t5-godGive">í•˜ë‚˜ë‹˜ì´ ì£¼ì‹œëŠ” ê²ƒ</button>
          <button class="sub-mode-btn" id="t5-iGive">ë‚´ê°€ ë“œë¦¬ëŠ” ê²ƒ</button>
        </div>
        <div id="t5-body"></div>
      `;
      container.appendChild(wrap);

      const body = document.getElementById("t5-body");
      const bMe   = document.getElementById("t5-whoAmI");
      const bGod  = document.getElementById("t5-godGive");
      const bIGive= document.getElementById("t5-iGive");

      function setActive(btn) {
        [bMe, bGod, bIGive].forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
      }

      function renderWhoAmI() {
        clear(body);
        const box = document.createElement("div");
        box.className = "card";
        box.innerHTML = `
          <div class="template-box">
            <div class="zh">
              æˆ‘æ˜¯ç¥çš„<span class="inline-b" id="t5-me-zh">å­©å­</span>ã€‚
            </div>
            <div class="pinyin" id="t5-me-py">
              wÇ’ shÃ¬ shÃ©n de hÃ¡izi
            </div>
            <div class="ko" id="t5-me-ko">
              ë‚˜ëŠ” í•˜ë‚˜ë‹˜ì˜ <span class="inline-b">ìë…€</span>ì…ë‹ˆë‹¤.
            </div>
          </div>
          <div class="section-label">ë‚˜ëŠ” ëˆ„êµ¬ì¼ê¹Œìš”?</div>
          <div class="mini-card-container" id="t5-me-wrap"></div>
          <div class="btn-row">
            <button onclick="speakChineseOnce('æˆ‘æ˜¯ç¥çš„å­©å­')">ì˜ˆë¬¸ ë“£ê¸° â–¶</button>
          </div>
          <div class="hint">
            å­©å­(ìë…€), å„¿å­(ì•„ë“¤), å¥³å„¿(ë”¸)ì„ ê³¨ë¼ì„œ,
            ìê¸° ì´ë¦„ì„ ë„£ì–´ ì„ ì–¸í•´ ë³´ê²Œ í•´ ì£¼ì„¸ìš”.
          </div>
        `;
        body.appendChild(box);

        const zhEl = document.getElementById("t5-me-zh");
        const pyEl = document.getElementById("t5-me-py");
        const koEl = document.getElementById("t5-me-ko");
        const wrapCards = document.getElementById("t5-me-wrap");

        identityWords6.forEach(v => {
          const card = document.createElement("div");
          card.className = "mini-card mini-card-b";
          card.innerHTML = `
            <div class="mini-card-title">${v.ko}</div>
            <div class="mini-card-zh">${v.hanzi}</div>
            <div class="mini-card-sub">${v.pinyin}</div>
          `;
          card.onclick = () => {
            wrapCards.querySelectorAll(".mini-card").forEach(el => {
              el.style.outline = "none";
            });
            card.style.outline = "3px solid #22c55e";

            zhEl.textContent = v.hanzi;
            pyEl.textContent = `wÇ’ shÃ¬ shÃ©n de ${v.pinyin}`;
            koEl.innerHTML =
              `ë‚˜ëŠ” í•˜ë‚˜ë‹˜ì˜ <span class="inline-b">${v.ko}</span>ì…ë‹ˆë‹¤.`;

            speakChineseOnce(`æˆ‘æ˜¯ç¥çš„${v.hanzi}`);
          };
          wrapCards.appendChild(card);
        });
      }

      function renderGodGive() {
        clear(body);
        const box = document.createElement("div");
        box.className = "card";
        box.innerHTML = `
          <div class="template-box">
            <div class="zh">
              ç¥ç»™æˆ‘<span class="inline-b" id="t5-god-zh">è€¶ç¨£</span>ã€‚
            </div>
            <div class="pinyin" id="t5-god-py">
              shÃ©n gÄ›i wÇ’ yÄ“sÅ«
            </div>
            <div class="ko" id="t5-god-ko">
              í•˜ë‚˜ë‹˜ê»˜ì„œ ë‚˜ì—ê²Œ <span class="inline-b">ì˜ˆìˆ˜ë‹˜</span>ì„ ì£¼ì„¸ìš”.
            </div>
          </div>
          <div class="section-label">í•˜ë‚˜ë‹˜ì´ ë‚˜ì—ê²Œ ì£¼ì‹œëŠ” ê²ƒì€?</div>
          <div class="mini-card-container" id="t5-god-wrap"></div>
          <div class="btn-row">
            <button onclick="speakChineseOnce('ç¥ç»™æˆ‘ä»€ä¹ˆï¼Ÿ')">â€œç¥ç»™æˆ‘ä»€ä¹ˆï¼Ÿâ€ ë“£ê¸° â–¶</button>
          </div>
          <div class="hint">
            â€œç¥ç»™æˆ‘ä»€ä¹ˆï¼Ÿ(í•˜ë‚˜ë‹˜ê»˜ì„œ ë‚˜ì—ê²Œ ë¬´ì—‡ì„ ì£¼ì„¸ìš”?)â€ ì§ˆë¬¸ì„ ë¨¼ì € ì½ê³ ,
            ê·¸ ë‹¤ìŒ â€œç¥ç»™æˆ‘ã€‡ã€‡ã€‚â€ ë¬¸ì¥ì„ ë§Œë“¤ì–´ ë³´ì„¸ìš”.
          </div>
        `;
        body.appendChild(box);

        const zhEl = document.getElementById("t5-god-zh");
        const pyEl = document.getElementById("t5-god-py");
        const koEl = document.getElementById("t5-god-ko");
        const wrapCards = document.getElementById("t5-god-wrap");

        giftFromGod6.forEach(v => {
          const card = document.createElement("div");
          card.className = "mini-card mini-card-b";
          card.innerHTML = `
            <div class="mini-card-title">${v.ko}</div>
            <div class="mini-card-zh">${v.hanzi}</div>
            <div class="mini-card-sub">${v.pinyin}</div>
          `;
          card.onclick = () => {
            wrapCards.querySelectorAll(".mini-card").forEach(el => {
              el.style.outline = "none";
            });
            card.style.outline = "3px solid #22c55e";

            zhEl.textContent = v.hanzi;
            pyEl.textContent = `shÃ©n gÄ›i wÇ’ ${v.pinyin}`;
            koEl.innerHTML =
              `í•˜ë‚˜ë‹˜ê»˜ì„œ ë‚˜ì—ê²Œ <span class="inline-b">${v.ko}</span>ì„/ë¥¼ ì£¼ì„¸ìš”.`;

            speakChineseOnce(`ç¥ç»™æˆ‘${v.hanzi}`);
          };
          wrapCards.appendChild(card);
        });
      }

      function renderIGive() {
        clear(body);
        const box = document.createElement("div");
        box.className = "card";
        box.innerHTML = `
          <div class="template-box">
            <div class="zh">
              æˆ‘ç»™ç¥<span class="inline-b" id="t5-iGod-zh">æˆ‘çš„çˆ±</span>ã€‚
            </div>
            <div class="pinyin" id="t5-iGod-py">
              wÇ’ gÄ›i shÃ©n wÇ’ de Ã i
            </div>
            <div class="ko" id="t5-iGod-ko">
              ë‚˜ëŠ” í•˜ë‚˜ë‹˜ê»˜ <span class="inline-b">ë‚˜ì˜ ì‚¬ë‘</span>ì„ ë“œë ¤ìš”.
            </div>
          </div>
          <div class="section-label">ë‚˜ëŠ” í•˜ë‚˜ë‹˜ê»˜ ë¬´ì—‡ì„ ë“œë¦´ê¹Œìš”?</div>
          <div class="mini-card-container" id="t5-iGod-wrap"></div>

          <div class="template-box" style="margin-top:20px;">
            <div class="zh">
              æˆ‘ç»™åˆ«äºº<span class="inline-b" id="t5-iOther-zh">çˆ±</span>ã€‚
            </div>
            <div class="pinyin" id="t5-iOther-py">
              wÇ’ gÄ›i biÃ©rÃ©n Ã i
            </div>
            <div class="ko" id="t5-iOther-ko">
              ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ <span class="inline-b">ì‚¬ë‘</span>ì„ ì¤˜ìš”.
            </div>
          </div>
          <div class="section-label">ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ë¬´ì—‡ì„ ì¤„ê¹Œìš”?</div>
          <div class="mini-card-container" id="t5-iOther-wrap"></div>

          <div class="hint">
            â€œí•˜ë‚˜ë‹˜ê»˜ ë“œë¦¬ëŠ” ê²ƒâ€ê³¼ â€œì´ì›ƒì—ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒâ€ì„ í•¨ê»˜ ë¬¶ì–´ì„œ,
            ë³µìŒì ì¸ â€˜ì£¼ê³ ë°›ê¸°â€™ ì‚¶ì„ ì •ë¦¬í•  ìˆ˜ ìˆì–´ìš”.
          </div>
        `;
        body.appendChild(box);

        const zhGod = document.getElementById("t5-iGod-zh");
        const pyGod = document.getElementById("t5-iGod-py");
        const koGod = document.getElementById("t5-iGod-ko");
        const wrapGod = document.getElementById("t5-iGod-wrap");

        myGiftToGod6.forEach(v => {
          const card = document.createElement("div");
          card.className = "mini-card mini-card-b";
          card.innerHTML = `
            <div class="mini-card-title">${v.meaning}</div>
            <div class="mini-card-zh">${v.hanzi}</div>
            <div class="mini-card-sub">${v.pinyin}</div>
          `;
          card.onclick = () => {
            wrapGod.querySelectorAll(".mini-card").forEach(el => {
              el.style.outline = "none";
            });
            card.style.outline = "3px solid #22c55e";

            zhGod.textContent = v.hanzi;
            pyGod.textContent = `wÇ’ gÄ›i shÃ©n ${v.pinyin}`;
            koGod.innerHTML =
              `ë‚˜ëŠ” í•˜ë‚˜ë‹˜ê»˜ <span class="inline-b">${v.meaning}</span>ì„/ë¥¼ ë“œë ¤ìš”.`;

            speakChineseOnce(`æˆ‘ç»™ç¥${v.hanzi}`);
          };
          wrapGod.appendChild(card);
        });

        const zhO = document.getElementById("t5-iOther-zh");
        const pyO = document.getElementById("t5-iOther-py");
        const koO = document.getElementById("t5-iOther-ko");
        const wrapO = document.getElementById("t5-iOther-wrap");

        myGiftToOthers6.forEach(v => {
          const card = document.createElement("div");
          card.className = "mini-card mini-card-b";
          card.innerHTML = `
            <div class="mini-card-title">${v.meaning}</div>
            <div class="mini-card-zh">${v.hanzi}</div>
            <div class="mini-card-sub">${v.pinyin}</div>
          `;
          card.onclick = () => {
            wrapO.querySelectorAll(".mini-card").forEach(el => {
              el.style.outline = "none";
            });
            card.style.outline = "3px solid #22c55e";

            zhO.textContent = v.hanzi;
            pyO.textContent = `wÇ’ gÄ›i biÃ©rÃ©n ${v.pinyin}`;
            koO.innerHTML =
              `ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ <span class="inline-b">${v.meaning}</span>ì„/ë¥¼ ì¤˜ìš”.`;

            speakChineseOnce(`æˆ‘ç»™åˆ«äºº${v.hanzi}`);
          };
          wrapO.appendChild(card);
        });
      }

      renderWhoAmI();

      bMe.onclick    = () => { setActive(bMe);    renderWhoAmI(); };
      bGod.onclick   = () => { setActive(bGod);   renderGodGive(); };
      bIGive.onclick = () => { setActive(bIGive); renderIGive(); };
    }

    /* ===== 8. íƒ­6: ì°¬ì–‘ ë³µìŠµ + ë‹¨ì–´ ë§¤ì¹­ ê²Œì„ ===== */

    function renderTab6(container) {
      const c = document.createElement("div");
      c.className = "card";
      c.innerHTML = `
        <div class="section-label">6-6 ì°¬ì–‘ ë³µìŠµ</div>
        <div class="zh">åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»ã€‚</div>
        <div class="pinyin">zhÇ yÇ’u yÃ­ wÃ¨i zhÄ“n shÃ©n, jiÃ¹ shÃ¬ zÃ ohuÃ zhÇ”</div>
        <div class="ko">ì§„ì§œ ì‹ ì€ ì˜¤ì§ í•œ ë¶„ì´ì„¸ìš”! ë°”ë¡œ ì°½ì¡°ì£¼ì˜ˆìš”.</div>

        <div class="zh" style="margin-top:14px;">ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘ã€‚</div>
        <div class="pinyin">gÄ›i wÇ’ chÄ«, gÄ›i wÇ’ chuÄn, chÃ¡ngchÃ¡ng bÇohÃ¹ wÇ’</div>
        <div class="ko">
ë‚˜ì—ê²Œ ë¨¹ì„ ê²ƒì„ ì£¼ì‹œê³ , ì…ì„ ê²ƒì„ ì£¼ì„¸ìš”,
í•­ìƒ ë‚˜ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.
        </div>

        <div class="btn-row">
          <button onclick="speakChineseOnce('åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»')">1ì¤„ ë“£ê¸° â–¶</button>
          <button onclick="speakChineseOnce('ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘')">2ì¤„ ë“£ê¸° â–¶</button>
          <button class="secondary" onclick="speakChineseFive('åªæœ‰ä¸€ä½çœŸç¥ï¼Œå°±æ˜¯é€ åŒ–ä¸»ã€‚ç»™æˆ‘åƒï¼Œç»™æˆ‘ç©¿ï¼Œå¸¸å¸¸ä¿æŠ¤æˆ‘')">ì „ì²´ ë‹¤ì„¯ ë²ˆ â–¶â–¶</button>
        </div>

        <div class="hint">
ì°¬ì–‘ ê°€ì‚¬ë¥¼ í•œê¸€ ì—†ì´ë„ ì½ê³  ë¶€ë¥¼ ìˆ˜ ìˆì„ ë•Œê¹Œì§€
ì•„ì´ì™€ ë²ˆê°ˆì•„ ê°€ë©° ì½ì–´ ë³´ì„¸ìš”.
        </div>
      `;
      container.appendChild(c);

      const quizCard = document.createElement("div");
      quizCard.className = "card";
      quizCard.innerHTML = `
        <div class="section-label">6-6 ë‹¨ì–´ Â· ëœ» ë§¤ì¹­ ê²Œì„</div>
        <div class="ko">
          ì™¼ìª½ì˜ ì¤‘êµ­ì–´ ë‹¨ì–´ì™€ ì˜¤ë¥¸ìª½ì˜ ìš°ë¦¬ë§ ëœ»ì„ ì°¨ë¡€ëŒ€ë¡œ ëˆŒëŸ¬ ì§ì„ ë§ì¶° ë³´ì„¸ìš”.<br>
          ì •ë‹µì´ë©´ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ë°”ë€Œê³ , ë°œìŒë„ ë“¤ë ¤ ì¤„ê²Œìš”.
        </div>
        <div class="match-layout">
          <div class="match-col" id="match-left-6"></div>
          <div class="match-col" id="match-right-6"></div>
        </div>
        <div class="hint" id="match-status-6" style="margin-top:12px;"></div>
      `;
      container.appendChild(quizCard);

      const leftEl = document.getElementById("match-left-6");
      const rightEl = document.getElementById("match-right-6");
      const statusEl = document.getElementById("match-status-6");

      // ë§¤ì¹­ìš© ë‹¨ì–´: ì°¬ì–‘ 1,2ì˜ í•µì‹¬ ë‹¨ì–´ë“¤
      const allWords = [...vocabLine1_6, ...vocabLine2_6];

      const leftItems = allWords.map(w => ({
        key: w.hanzi,
        label: w.hanzi
      }));

      const rightSource = [...allWords];
      rightSource.sort(() => Math.random() - 0.5);
      const rightItems = rightSource.map(w => ({
        key: w.hanzi,
        label: w.meaning
      }));

      let completed = 0;
      const total = leftItems.length;

      leftItems.forEach(item => {
        const btn = document.createElement("button");
        btn.className = "match-btn";
        btn.textContent = item.label;
        btn.dataset.key = item.key;
        btn.onclick = () => {
          if (btn.classList.contains("correct")) return;
          document.querySelectorAll("#match-left-6 .match-btn").forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
          statusEl.textContent = "ì´ì œ ì˜¤ë¥¸ìª½ì—ì„œ ëœ»ì„ ê³¨ë¼ ë³´ì„¸ìš”.";
        };
        leftEl.appendChild(btn);
      });

      rightItems.forEach(item => {
        const btn = document.createElement("button");
        btn.className = "match-btn";
        btn.textContent = item.label;
        btn.dataset.key = item.key;
        btn.onclick = () => {
          if (btn.classList.contains("correct")) return;

          const leftSelectedBtn = document.querySelector("#match-left-6 .match-btn.selected");
          if (!leftSelectedBtn) {
            statusEl.textContent = "ë¨¼ì € ì™¼ìª½ ë‹¨ì–´ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.";
            return;
          }
          const leftKey = leftSelectedBtn.dataset.key;
          const rightKey = item.key;

          if (leftKey === rightKey) {
            leftSelectedBtn.classList.remove("selected");
            leftSelectedBtn.classList.add("correct");
            btn.classList.add("correct");
            completed++;
            statusEl.textContent = "ì •ë‹µì´ì—ìš”! ğŸ‘";

            speakChineseOnce(leftKey);

            if (completed === total) {
              statusEl.textContent = "ëª¨ë“  ë‹¨ì–´ë¥¼ ë‹¤ ë§ì·„ì–´ìš”! ë„ˆë¬´ ì˜í–ˆì–´ìš” ğŸ‰";
            }
          } else {
            btn.classList.add("wrong");
            statusEl.textContent = "ì¡°ê¸ˆ ì•„ì‰¬ì›Œìš”. ë‹¤ì‹œ í•œ ë²ˆ ë„ì „í•´ ë³´ì!";
            setTimeout(() => {
              btn.classList.remove("wrong");
              if (leftSelectedBtn) leftSelectedBtn.classList.remove("selected");
            }, 600);
          }
        };
        rightEl.appendChild(btn);
      });
    }

    /* ===== 9. ìƒë‹¨ íƒ­ ê´€ë¦¬ ===== */

    const steps6 = [
      { id: "6-1", label: "1" },
      { id: "6-2", label: "2" },
      { id: "6-3", label: "3" },
      { id: "6-4", label: "4" },
      { id: "6-5", label: "5" },
      { id: "6-6", label: "6" }
    ];

    let currentStepId = "6-1";
    const stepTabsEl = document.getElementById("step-tabs");
    const contentEl = document.getElementById("content");

    function renderStepTabs() {
      clear(stepTabsEl);
      steps6.forEach(s => {
        const b = document.createElement("button");
        b.className = "step-tab";
        if (s.id === currentStepId) b.classList.add("active");
        b.textContent = s.label;
        b.onclick = () => {
          currentStepId = s.id;
          renderStepTabs();
          renderContent();
        };
        stepTabsEl.appendChild(b);
      });
    }

    function renderContent() {
      clear(contentEl);
      if (currentStepId === "6-1") renderTab1(contentEl);
      else if (currentStepId === "6-2") renderTab2(contentEl);
      else if (currentStepId === "6-3") renderTab3(contentEl);
      else if (currentStepId === "6-4") renderTab4(contentEl);
      else if (currentStepId === "6-5") renderTab5(contentEl);
      else if (currentStepId === "6-6") renderTab6(contentEl);
    }

    renderStepTabs();
    renderContent();
  </script>
</body>
</html>

